<!doctype html>
<html>
<head>
  <link rel="stylesheet" href="/static/style.css"/>
  <link rel="stylesheet"
          href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.css"/>
  <script src="https://code.jquery.com/jquery-1.10.2.js"></script>
  <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
  <meta charset="utf-8">
</head>

<body>
    <div class="navbar-collapse collapse">
        <ul class="nav navbar-nav navbar-right">
            {% if 'logged_in_user' in session %}
                <li><a href="/logout">Log Out</a></li>
            {% else %}
                <button id="login">Login</button>
                <button id="createAccount">Create Account</button>
            {% endif %}
        </ul>
        <h1><a href="/">Travels</a></h1>
    </div>



<div class="container">

  <!-- Show modals -->
    <div id="login-form-popup" class="modal">
        <div class="login-form-content">
          <span class="close">&times;</span>
            <h2>Login</h2>
            <form id="login_form" action="/check-login" method="POST">Email: 
              <input type="email" id="email" name="email" default="email"><br>Password: 
              <input type="password" id="password" name="password" default="password"><br>
              <input type="submit" id="submit_button">
            </form>
          </div>
      </div>

    <div id="create-form-popup" class="modal">
        <div class="create-form-content">
          <span class="close">&times;</span>
          <h2>Create Account</h2>
          <form id="new_user_form" action="/create-account" method="POST">Email: 
            <input type="email" id="email" name="email" default="email" required><br>Password: 
            <input type="password" id="password" name="password" default="password" required><br>Nickname:
            <input type="text" id="nickname" name="name"><br>
            <input type="submit" id="submit_button">
          </form>
          </div>
          </div>

  <!-- Show flashed messages -->
  {% with messages = get_flashed_messages() %}
      {% for message in messages %}
          <div class="alert alert-warning">{{ message }}</div>
      {% endfor %}
  {% endwith %}

  <!-- This is where the main content goes. -->
  {% block content %}
      BODY OF PAGE GOES HERE VIA INHERITANCE
  {% endblock %}

</div>
 <script>
    
          // Get the modal
    var createModal = document.getElementById('create-form-popup');

    // Get the button that opens the modal
    var createBtn = document.getElementById("createAccount");

    // When the user clicks on the button, open the modal 
    createBtn.onclick = function() {
        createModal.style.display = "block";
    }

    // Get the <span> element that closes the modal
    var span = document.getElementsByClassName("close")[1];

    // When the user clicks on <span> (x), close the modal
    span.onclick = function() {
        createModal.style.display = "none";
    }

    // When the user clicks anywhere outside of the modal, close it
    window.onclick = function(event) {
        if (event.target == modal) {
            createModal.style.display = "none";
        }
    }

    
      // Get the modal
    var modal = document.getElementById('login-form-popup');

    // Get the button that opens the modal
    var btn = document.getElementById("login");

    // Get the <span> element that closes the modal
    var span = document.getElementsByClassName("close")[0];

    // When the user clicks on the button, open the modal 
    btn.onclick = function() {
        modal.style.display = "block";
    }

    // When the user clicks on <span> (x), close the modal
    span.onclick = function() {
        modal.style.display = "none";
    }

    // When the user clicks anywhere outside of the modal, close it
    window.onclick = function(event) {
        if (event.target == modal) {
            modal.style.display = "none";
        }
    }

   </script>
</body>
</html>

